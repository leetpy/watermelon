基础知识
=========

交换机 VLAN 三种模式

- Access 模式

  - 端口接收报文：
    收到报文，判断是否有 VLAN 信息，如果没有则打上端口的 PVID()，并进行交换转发，否则丢弃（即使和缺省 VLAN 不一致）；

  - 端口发送报文：将报文的 VLAN 信息剥离，直接发送出去；

- Trunk 模式

  - 端口接收报文：
    收到报文，判断是否有 VLAN 信息，如果没有则打上端口的 PVID()，并进行交换转发，如果有

  - 端口发送报文：比较端口的 PVID 和将要发送报文的 VLAN 信息，如果两者相等则剥离 VLAN 信息并发送，如果不等，则直接发送；


- Hybrid 模式

  - 端口接收报文：
    收到报文，判断是否有 VLAN 信息，如果没有则打上端口的 PVID()，并进行交换转发，如果有则判断该 hybrid 端口是否允许该 VLAN 的数据进入，
    如果可以则转发，否则丢弃（此时端口的 untag 配置是不用考虑的，untag 配置只对发送报文起作用）

  - 端口发送报文：

    #. 判断该 VLAN 在本端口的属性（查看该端口对应哪些 VLAN 是 untag, 哪些 VLAN 是tag）
    #. 如果是 untag 则剥离 VLAN 信息再发送，如果是 tag 则直接发送；
